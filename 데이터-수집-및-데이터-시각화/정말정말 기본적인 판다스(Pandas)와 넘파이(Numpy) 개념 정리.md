# 판다스(Pandas) 기본 개념 정리



## 들어가며

[판다스](http://pandas.pydata.org/pandas-docs/stable/)는 데이터 처리를 위한 라이브러리다. 파이썬을 이용한 데이터 분석에서는 거의 필수적으로 사용된다.

```python
import pandas as pd
```



판다스에서는 세 가지의 데이터 구조를 사용할 수 있다.

- 시리즈 (Series)
- 데이터프레임 (DataFrame)
- 패널(Panel)



## 시리즈 (Series)

시리즈는 1차원 배열(array) 값과 각 값에 대응되는 인덱스를 가지고 있다. 리스트인듯 딕셔너리인듯 그런 느낌이다.

.values, .index

## 데이터프레임 (DataFrame)

데이터프레임은 행과 열을 가지는 2차원 데이터 구조이다. 데이터프레임에 저장된 값(value)은 행방향 인덱스(index)와 함께 열방향 인덱스(column)도 가진다. 



데이터프레임은 리스트, 시리즈, 딕셔너리, 넘파이 배열 등 다양한 구조 형태를 가지고 생성할 수 있다. 



생성된 데이터프레임에 열(columns)을 직접 지정해줄 수 있다.

```python
pd.DataFrame(data=data, columns=["종목명","주가","등락"])
```



아래는 데이터프레임에서 원하는 구간만을 뽑아 데이터의 일부를 확인할 때 사용하는 명령어다.

- df.head(개수) : 맨 앞의 n개 데이터만 확인
- df.tail(개수) : 맨 뒤의 n개 데이터만 확인
- df[인덱스 or 컬럼] : 해당되는 인덱스의 데이터만 확인



판다스를 이용해 외부 파일을 직접 읽어올 수도 있다. csv, txt 등 다양한 파일형식을 지원하며, 우리는 이것을 이용해 간편하게 데이터프레임을 생성할 수 있다.

``` python
df = pd.read_csv('data.csv')
```

이렇게 생성된 데이터프레임에는 모든 열에 자동으로 인덱스가 부여된다.



# 넘파이(Numpy) 기본 개념 정리

리스트나 딕셔너리같은 파이썬 내부의 기능들은 방대한 데이터를 다루기엔 너무 느리다는 단점이 있다. 넘파이(Numpy)는 파이썬에서 여러가지 수치를 빠르게 계산하고 정리할 수 있도록 해준다.



```python
import numpy as np
```



## 넘파이 어레이

## 넘파이의 시작과 끝,  np.array()

넘파이의 가장 핵심적인 기능이라고 할 수 있다. 리스트, 튜플 등 구조에 담긴 데이터를 이용해 ndarray를 생성한다. 

ndarray에는 차원(ndim)과 크기(shape)라는 개념이 존재한다. 배열의 크기와 차원을 정확히 숙지하고 있어야 데이터를 마음대로 가공하거나 이용할 수 있다.



### np.reshape()

np.reshape()를 사용하면 내부 데이터를 변경하지 않는 선에서 배열의 구조를 바꿀 수 있다. 배열 내의 데이터 개수가 변경할 구조의 개수와 딱 맞아떨어져야만 변경이 이루어지는 점을 유의하자.

```python
array = np.array(np.arange(30))
print(array)
```

```
[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29]
```

```python
array.reshape((5,6))
```

```
[[ 0  1  2  3  4  5]
 [ 6  7  8  9 10 11]
 [12 13 14 15 16 17]
 [18 19 20 21 22 23]
 [24 25 26 27 28 29]]
```



### ndarray의 인덱싱, 슬라이싱

파이썬의 리스트처럼 ndarray도 슬라이싱, 인덱싱하는 것이 가능하다. 

```python
array = np.array([[1,2],[3,4],[5,6]])
```

여기에서 특정 위치의 한 숫자만 가져오려면 이렇게 입력하면 된다.

```python
>> array[1,1]
4
```



### 다양한 ndarray 만들기

미리 만들어둔 데이터가 없더라도 다음의 명령어들을 이용해 여러가지 ndarray를 생성할 수 있다.

- np.zeros((열,개수)) : 모든 원소가 0으로 이루어진(x,y) 크기 배열 생성
- np.ones((열,개수)) : 모든 원소가 1
- np.full((열,개수), 숫자) : 모든 원소가 지정된 숫자
- np.eye(n) : (n,n) 크기의 배열, 대각선으로 1, 나머지 값 0



### Numpy 연산

넘파이에서는 배열 간의 연산을 쉽게 할 수 있는 기능을 제공한다. 가장 기본적인 연산(+,-,*,/)부터 살펴보자.

```python
x = np.array([1,2,3])
y = np.array([4,5,6])
```

```python
result = x + y
print(result)
>> [5,7,9]
```

```python
result = x - y
print(result)
>> [-3,-3,-3]
```

```python
result = x * y
print(result)
>> [4,10,18]
```

이렇게 수학의 기본 연산자를 이용한 계산에서는 같은 자리의 데이터끼리 셈이 이루어진다.

행렬곱(내적)을 위해서는 dot() 연산을 사용한다.

```python
x = np.array([1,2],[3,4])
y = np.array([5,6],[7,8])
result = np.dot(x, y)

>> [[19, 22]
   [43, 50]]
```

